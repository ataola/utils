{"version":3,"file":"ataola-utils.min.js","sources":["../lib/cookies.js","../lib/element.js","../lib/judge.js","../lib/generator.js","../lib/logger.js","../lib/url.js","../index.js"],"sourcesContent":["'use strict';\n// https://developer.mozilla.org/zh-CN/docs/Web/API/Document/cookie\n\n/**\n *\n * @param {string} key\n * @returns {string|null}\n */\n\nfunction get(key) {\n  return (\n    decodeURIComponent(\n      document.cookie.replace(\n        new RegExp(\n          '(?:(?:^|.*;)\\\\s*' +\n            encodeURIComponent(key).replace(/[-.+*]/g, '\\\\$&') +\n            '\\\\s*\\\\=\\\\s*([^;]*).*$)|^.*$'\n        ),\n        '$1'\n      )\n    ) || null\n  );\n}\n\n/**\n *\n * @param {string} key\n * @param {any} value\n * @param {string|number|date} end\n * @param {string} path\n * @param {string} domain\n * @param {string} secure\n * @returns {boolean}\n */\n\nfunction set(key, value, end, path, domain, secure) {\n  if (!key || /^(?:expires|max\\-age|path|domain|secure)$/i.test(key)) {\n    return false;\n  }\n  var expires = '';\n  if (end) {\n    switch (end.constructor) {\n      case Number:\n        expires =\n          end === Infinity\n            ? '; expires=Fri, 31 Dec 9999 23:59:59 GMT'\n            : '; max-age=' + end;\n        break;\n      case String:\n        expires = '; expires=' + end;\n        break;\n      case Date:\n        expires = '; expires=' + end.toUTCString();\n        break;\n    }\n  }\n  document.cookie =\n    encodeURIComponent(key) +\n    '=' +\n    encodeURIComponent(value) +\n    expires +\n    (domain ? '; domain=' + domain : '') +\n    (path ? '; path=' + path : '') +\n    (secure ? '; secure' : '');\n  return true;\n}\n\n/**\n *\n * @param {string} key\n * @returns {booelan}\n */\n\nfunction has(key) {\n  return new RegExp(\n    '(?:^|;\\\\s*)' +\n      encodeURIComponent(key).replace(/[-.+*]/g, '\\\\$&') +\n      '\\\\s*\\\\='\n  ).test(document.cookie);\n}\n\n/**\n *\n * @param {string} key\n * @param {string} path\n * @param {string} domain\n * @returns {boolean}\n */\n\nfunction remove(key, path, domain) {\n  if (!key || !has(key)) {\n    return false;\n  }\n  document.cookie =\n    encodeURIComponent(key) +\n    '=; expires=Thu, 01 Jan 1970 00:00:00 GMT' +\n    (domain ? '; domain=' + domain : '') +\n    (path ? '; path=' + path : '');\n  return true;\n}\n\n/**\n *\n * @returns {array}\n */\n\nfunction keys() {\n  const keys = document.cookie\n    .replace(/((?:^|\\s*;)[^\\=]+)(?=;|$)|^\\s*|\\s*(?:\\=[^;]*)?(?:\\1|$)/g, '')\n    .split(/\\s*(?:\\=[^;]*)?;\\s*/);\n  for (let i = 0; i < keys.length; i++) {\n    keys[i] = decodeURIComponent(keys[i]);\n  }\n  return keys;\n}\n\nexport { keys, get, set, has, remove };\n","'use strict';\n\n/**\n * @description: https://developer.mozilla.org/zh-CN/docs/Web/API/Element/getBoundingClientRect\n * @param {element} element https://developer.mozilla.org/zh-CN/docs/Web/API/Element\n * @returns {DOMRect} {left, top, right, bottom, x, y, width, height}, 返回的 DOMRect对象中的属性不是自己的属性。\n * 当使用in 和 for...in 运算符时能成功查找到返回的属性，但使用其他API（例如Object.keys（））查找时将失败。 而且，ES2015和更高版本的功能（如Object.assign（）和对象rest/spread）将无法复制返回的属性。\n */\nfunction getDOMRect(element) {\n  return (\n    (element.getBoundingClientRect && element.getBoundingClientRect()) || null\n  );\n}\n\n/**\n * @description 元素相对于网页左上角顶点（0，0）的top和left\n * @param {element} element\n * @returns {object} {x, y}\n */\nfunction getPosition(element) {\n  const { left, top } = getDOMRect(element);\n  let dom = document.documentElement || document.body.parentNode;\n  const x =\n    window.pageXOffset ||\n    window.scrollX ||\n    (typeof dom.scrollLeft == 'number' ? dom : document.body).scrollLeft;\n  const y =\n    window.pageYOffset ||\n    window.scrollY ||\n    (typeof dom.scrollTop == 'number' ? dom : document.body).scrollTop;\n  return { x: x + left, y: y + top };\n}\n\nexport { getDOMRect, getPosition };\n","'use strict';\nimport { getDOMRect } from './element';\n\n/**\n * @external https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Data_structures\n * 数据类型(EMCA latest): 9种\n * 原始类型：undefined, Boolean, String, Number, Bigint, Symbol\n * null, 注意 typeof null === 'object'\n * Object: Object, Array, Function, Map, Set, WeekMap, WeekSet, Date,\n * Function: RegExp\n */\n\n/**\n *\n * @param {*} value\n * @returns {boolean}\n */\nfunction isNull(value) {\n  return value === null;\n}\n\n/**\n *\n * @param {*} value\n * @returns {boolean}\n */\nfunction isString(value) {\n  return typeof value === 'string';\n}\n\n/**\n *\n * @param {*} value\n * @returns {number}\n */\nfunction isNumber(value) {\n  return typeof value === 'number';\n}\n\n/**\n *\n * @param {*} value\n * @returns {boolean}\n */\nfunction isSymbol(value) {\n  return typeof value === 'symbol';\n}\n\n/**\n *\n * @param {*} value\n * @returns {boolean}\n */\nfunction isUndefined(value) {\n  return value === undefined;\n}\n\n/**\n *\n * @param {*} value\n * @returns {boolean}\n */\nfunction isBoolean(value) {\n  return value === true || value === false;\n}\n\n/**\n *\n * @param {*} value\n * @returns {boolean}\n */\n\nfunction isBigInt(value) {\n  return typeof value === 'bigint';\n}\n\n/**\n * @description\n * @param {*} value\n * @return {boolean}\n */\nfunction isFunction(value) {\n  return typeof value === 'function';\n}\n\n/**\n *\n * @param {*} value\n * @returns {boolean}\n */\nfunction isObject(value) {\n  const type = typeof value;\n  return value !== null && (type === 'object' || type === 'function');\n}\n\n/**\n *\n * @param {*} value\n * @returns {boolean}\n */\nfunction isPrototype(value) {\n  const objectProto = Object.prototype;\n  const constructor = value && value.constructor;\n  const proto =\n    (isFunction(constructor) && constructor.prototype) || objectProto;\n  return value === proto;\n}\n\n/**\n *\n * @param {*} value\n * @returns {boolean}\n */\n\nfunction isArray(value) {\n  return value instanceof Array;\n}\n\n// 另一种思路是调用toString 去看它是不是 [Object Map]\n/**\n *\n * @param {*} value\n * @returns {boolean}\n */\nfunction isMap(value) {\n  return value instanceof Map;\n}\n\n/**\n *\n * @param {*} value\n * @returns {boolean}\n */\nfunction isWeakMap(value) {\n  return value instanceof WeakMap;\n}\n\n/**\n *\n * @param {*} value\n * @returns {boolean}\n */\nfunction isSet(value) {\n  return value instanceof Set;\n}\n\n/**\n *\n * @param {*} value\n * @returns {boolean}\n */\nfunction isWeakSet(value) {\n  return value instanceof WeakSet;\n}\n\n/**\n * @example `Error`, `EvalError`, `RangeError`, `ReferenceError`,`SyntaxError`, `TypeError`, `URIError`\n * @param {*} value\n * @returns {boolean}\n */\nfunction isError(value) {\n  return [\n    Error,\n    URIError,\n    EvalError,\n    TypeError,\n    RangeError,\n    SyntaxError,\n    ReferenceError,\n  ].some((item) => {\n    return value instanceof item;\n  });\n}\n\n// https://getbootstrap.com/docs/4.1/layout/overview/\n// https://developer.mozilla.org/en-US/docs/Web/CSS/Media_Queries/Using_media_queries\n\n/**\n * Extra small devices (portrait phones, less than 576px)\n * @media (max-width: 575.98px) { ... }\n * @returns {boolean}\n */\nfunction isScreenXS() {\n  const { width } = getDOMRect(document.body);\n  return width <= 575.98;\n}\n\n/**\n * Small devices (landscape phones, 576px and up)\n * @media (min-width: 576px) and (max-width: 767.98px) { ... }\n * @returns {boolean}\n */\nfunction isScreenSM() {\n  const { width } = getDOMRect(document.body);\n  return width >= 576 && width <= 767.98;\n}\n\n/**\n * Medium devices (tablets, 768px and up)\n * @media (min-width: 768px) and (max-width: 991.98px) { ... }\n * @returns {boolean}\n */\nfunction isScreenMD() {\n  const { width } = getDOMRect(document.body);\n  return width >= 768 && width <= 991.98;\n}\n\n/**\n * Large devices (desktops, 992px and up)\n * @media (min-width: 992px) and (max-width: 1199.98px) { ... }\n * @returns {boolean}\n */\nfunction isScreenLG() {\n  const { width } = getDOMRect(document.body);\n  return width >= 992 && width <= 1199.98;\n}\n\n/**\n * Extra large devices (large desktops, 1200px and up)\n * @media (min-width: 1200px) { ... }\n * @returns {boolean}\n */\nfunction isScreenXL() {\n  const { width } = getDOMRect(document.body);\n  return width >= 1200;\n}\n\n/**\n *\n * @param {*} value\n * @returns\n */\nfunction isEmpty(value) {\n  // null 0 '' false undefined\n  if (!value) {\n    return true;\n  }\n  if (isArray(value)) {\n    return !value.length;\n  } else if (isObject(value)) {\n    return !Object.keys(value).length;\n  } else if (\n    isMap(value) ||\n    isWeakMap(value) ||\n    isSet(value) ||\n    isWeakSet(value)\n  ) {\n    return !value.size;\n  }\n  return false;\n}\n\n/**\n *\n * @param {*} value\n * @returns {boolean}\n */\nfunction isDate(value) {\n  return value instanceof Date;\n}\n\nexport {\n  isNull,\n  isString,\n  isNumber,\n  isSymbol,\n  isUndefined,\n  isBoolean,\n  isBigInt,\n  isFunction,\n  isArray,\n  isObject,\n  isPrototype,\n  isMap,\n  isWeakMap,\n  isSet,\n  isWeakSet,\n  isError,\n  isScreenXS,\n  isScreenSM,\n  isScreenMD,\n  isScreenLG,\n  isScreenXL,\n  isEmpty,\n  isDate,\n};\n","'use strict';\n\n/**\n *\n * @returns {string} length 10 or 11\n */\nfunction randomSimple() {\n  return Math.random().toString(32).substr(2);\n}\n\nexport { randomSimple };\n","'use strict';\n\n/**\n * @external https://console.spec.whatwg.org/\n * @param {*} name\n * @param {function} cb\n */\nasync function timing(name = 'test', cb) {\n  console.time(name);\n  typeof cb === 'function' && (await cb());\n  console.timeEnd(name);\n}\n\nasync function timeConsuming(cb) {\n  const start = window.performance.now();\n  typeof cb === 'function' && (await cb());\n  const end = window.performance.now();\n  const res = (end - start).toFixed(2);\n  console.log(`time-consuming: ${res} ms`);\n}\n\nexport { timing, timeConsuming };\n","'use strict';\n\n/**\n *\n * @param {string} url\n * @returns {object}\n */\nfunction getQueryParameters(url) {\n  const paramStr = decodeURIComponent(url).split('?')[1];\n  if (!paramStr) {\n    return {};\n  }\n  const paramArr = paramStr.split('&');\n  const res = {};\n  paramArr.forEach((param) => {\n    const [key, value] = param.split('=');\n    res[key] = value;\n  });\n  return res;\n}\n\n/**\n *\n * @param {string} url\n * @returns {object}\n */\nfunction getQueryParametersByRegExp(url) {\n  const parameters = {};\n  url.replace(/[?&]+([^=&]+)=([^&]*)/gi, function (m, key, value) {\n    parameters[key] = value;\n  });\n  return parameters;\n}\n\n/**\n * @external  https://www.regex-tutorial.com/urlParameter.html\n * @param {string} url\n * @param {string} name\n * @returns {string}\n */\nfunction getQueryParameterByRegExp(url, name) {\n  const reg = new RegExp('[?&]' + name + '=([^&]+).*$');\n  const res = url.match(reg);\n  return res === null ? '' : decodeURIComponent(res[1].replace(/\\+/g, ' '));\n}\n\nexport {\n  getQueryParameterByRegExp,\n  getQueryParametersByRegExp,\n  getQueryParameters,\n};\n","import { version } from './package.json';\nimport * as cookies from './lib/cookies';\nimport * as judge from './lib/judge';\nimport * as element from './lib/element';\nimport * as generator from './lib/generator';\nimport * as logger from './lib/logger';\nimport * as url from './lib/url';\n/**\n *\n * @returns {string}\n */\n\nfunction getVersion() {\n  return version;\n}\n\nexport { cookies, judge, element, generator, logger, url, getVersion };\n"],"names":["has","key","RegExp","encodeURIComponent","replace","test","document","cookie","keys","split","i","length","decodeURIComponent","value","end","path","domain","secure","expires","constructor","Number","Infinity","String","Date","toUTCString","getDOMRect","element","getBoundingClientRect","left","top","dom","documentElement","body","parentNode","x","window","pageXOffset","scrollX","scrollLeft","y","pageYOffset","scrollY","scrollTop","isFunction","isObject","type","isArray","Array","isMap","Map","isWeakMap","WeakMap","isSet","Set","isWeakSet","WeakSet","undefined","objectProto","Object","prototype","Error","URIError","EvalError","TypeError","RangeError","SyntaxError","ReferenceError","some","item","width","size","Math","random","toString","substr","name","cb","console","time","timeEnd","start","performance","now","res","toFixed","log","url","reg","match","parameters","m","paramStr","paramArr","forEach","param"],"mappings":"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"}